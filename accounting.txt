#!/bin/sh
if [ "$1" = "plot" ]; then
	awk 'BEGIN { print "2008-09-01", 0; } { if (go) { gsub(/:.* /, " "); x += $2; print $1, x; } } /^$/ { go=1; }' < "$0" > accounting.dat
	echo 'set xdata time|set timefmt "%Y-%m-%d"|set format x "%b %y"|plot "accounting.dat" using 1:2 with lines' | tr '|' '\n' > accounting.gp
	gnuplot -persist accounting.gp
fi
awk '/^$/ { go=1; } !go { next; } { gsub(/.* /, ""); } /^-/ { o += $1; } /^+/ { i += $1; } END { print i, o, i+o; }' "$0"
exit

2008-09-27: Kassa ................................................   +65.18
2008-10-16: Kassa ................................................  +130.00
2008-11-15: Kassa ................................................   +74.62
2008-12-11: Kassa ................................................  +109.50
2008-12-12: Smart Projects 2008-12-11 ............................  -397.69
2008-12-16: Reichelt 2008-12-13 ..................................  -222.66
2009-01-08: RS 2008-12-13 ........................................   -87.09
2009-01-08: RS 2008-12-28 ........................................   -28.38
2009-01-14: 5x DC-ME-Y402-LX (via Harald) ........................  -190.00
2009-01-15: Kassa ................................................  +155.00
2009-01-29: Kassa ................................................    +4.61
2009-01-29: Ebay/Marius 30 USB Kabel  ............................    -8.40
2009-02-09: RS 2009-02-09 ........................................  -100.80
2009-02-14: Kassa ................................................  +212.00
2009-02-23: Reichelt 2009-02-23 ..................................   -31.15
2009-03-01: Kassa ................................................   +55.00
2009-03-24: CSD 2009-03-18 .......................................   -16.50
2009-03-31: Reichelt 2009-03-31 ..................................  -117.42
2009-03-31: CSD 2009-03-31 .......................................   -25.70
2009-04-01: Kassa ................................................   +78.35
2009-04-18: CSD 2009-04-09 .......................................   +39.70
2009-05-09: Kassa ................................................  +174.00
2009-05-28: Smart Projects (PCB Europe) 2009-05-28 ...............  -325.85
2009-05-28: Kassa ................................................   +87.45
2009-06-15: Kassa ................................................  +216.30
2009-06-28: CSD 2009-06-28 .......................................  -141.00
2009-06-28: Reichelt 2009-06-28 ..................................  -152.25
2009-07-07: Kassa ................................................   +84.36
2009-07-08: Smart Projects (PCB Europe) 2009-07-08 ...............  -387.05
2009-07-19: Kassa ................................................  +130.89
2009-08-26: Kassa ................................................  +237.62
2009-08-28: Fabian Holz ..........................................   -52.00
2009-09-02: Smart Projects (PCB Europe) 2009-09-02 ...............  -654.14
2009-09-05: Kassa ................................................   +95.05
2009-09-15: Kassa ................................................  +210.35
2009-10-02: Kassa ................................................   +90.95
2009-10-12: Reichelt .............................................  -203.31
2009-10-12: Kassa ................................................   +34.61
2009-10-15: SN74LVC1G97 und SN74LVC1G79 via EVVA .................  -100.00
2009-10-20: Kassa ................................................   +30.00
2009-10-26: Kassa ................................................   +36.50
2009-11-11: Kassa ................................................   +17.27
2009-12-01: Kassa ................................................  +146.05
2009-12-23: Spanplatten fuer Lazzzor .............................   -94.06
2009-12-27: Kassa ................................................  +110.15
2009-12-27: Smart Projects (PCB Europe) ..........................  -390.37
2010-01-19: Kassa ................................................   +90.70
2010-01-29: Kassa ................................................   +83.69
2010-02-19: Kassa ................................................  +170.62
2010-03-05: Kassa ................................................   +52.02
2010-04-18: Kassa ................................................  +162.09
2010-05-04: Kassa ................................................  +105.60
2010-05-21: Kassa ................................................  +120.60
2010-05-21: Smart Projects (PCB Europe) ..........................  -511.76
2010-06-05: Kassa ................................................   +30.50
2010-07-01: Kassa ................................................  +124.85
2010-07-16: Kassa ................................................   +83.75
2010-07-19: RS-Components ........................................  -125.64
2010-07-19: Reichelt .............................................  -250.11
2010-07-30: Kassa ................................................   +25.05
2010-07-30: Ribu .................................................   -25.05
2010-08-01: Kassa ................................................  +121.10
2010-08-13: Kassa ................................................   +46.00
2010-08-25: Kassa ................................................   +55.00
2010-09-08: Kassa ................................................  +265.00
2010-09-19: Smart Projects (PCB Europe) ..........................  -511.76
2010-09-25: Kassa ................................................  +185.53
2010-10-01: Kassa ................................................   +85.60
2010-10-10: Reichelt .............................................   -39.96
2010-10-15: Kassa ................................................  +149.40
2010-11-04: Kassa ................................................  +119.20
2010-11-12: Kassa ................................................   +24.71
2010-11-16: Ribu .................................................   -83.50
2010-11-22: Kassa ................................................   +60.00
2010-12-16: Teensy ...............................................   -80.00
2010-12-16: Kassa ................................................  +200.11
2011-01-04: Smart Projects .......................................  -513.18
2011-01-05: CSD ..................................................  -278.60
2011-01-10: Reichelt .............................................  -373.92
2011-01-13: DigiKey ..............................................  -231.15
2011-01-13: DigiKey Zoll .........................................   -49.93
2011-01-15: Kassa ................................................   +14.50
2011-01-20: RS ...................................................   -68.25
2011-01-27: Kassa ................................................  +166.46
2011-02-01: RS ...................................................   -50.88
2011-02-03: Kassa ................................................  +150.60
2011-02-18: Kassa ................................................   +57.50
2011-02-25: RS ...................................................   -42.35
2011-03-10: Kassa ................................................  +118.81
2011-03-20: Kassa ................................................  +108.71
2011-03-24: Kassa ................................................   +19.10
2011-04-01: Reichelt .............................................   -35.82
2011-04-10: CSD ..................................................   -57.00
2011-04-10: Kassa ................................................  +166.00
2011-04-16: RS ...................................................  -648.00
2011-04-19: Kassa ................................................  +231.00
2011-04-27: Kassa ................................................  +172.82
2011-05-27: Kassa ................................................  +142.00
2011-07-08: Kassa ................................................  +252.52
2011-08-19: Kassa ................................................   +77.15
2011-09-22: Kassa ................................................   +75.00
2011-09-23: Smart Projects .......................................  -507.45
2011-10-10: RS ...................................................  -198.12
2011-10-23: Kassa ................................................  +231.85
2011-11-03: Kassa ................................................  +150.00
2011-11-20: Kassa ................................................  +165.00
2011-11-27: Kassa ................................................   +40.00
2011-12-11: Kassa ................................................  +148.50
2011-12-28: Reichelt .............................................  -352.47
2011-12-28: Watterott ............................................  -569.00
2011-12-28: CSD ..................................................  -157.07
2012-01-05: Futurlec (via Overflo) ............................... . -30.00
2012-01-15: Kassa ................................................   +52.83
2012-03-02: Kassa ................................................  +265.79
2012-03-03: Reichelt .............................................  -158.70
2012-03-10: Kassa ................................................  +127.18
2012-04-07: Kassa ................................................   +66.00
2012-04-07: Spende ...............................................   +10.00
2012-04-11: Metalab .............................................. +1800.00
2012-04-12: Spende ...............................................   +10.00
2012-04-21: Spende ...............................................   +20.00
2012-04-22: Kassa ................................................   +55.00
2012-04-28: Spende ...............................................   +20.00
2012-05-01: Kassa ................................................   +15.00
2012-05-06: Spende ...............................................   +20.00
2012-05-07: Kassa ................................................  +106.00
2012-05-13: Kassa ................................................   +59.14
2012-05-23: Kassa ................................................   +75.55
2012-06-07: Kassa ................................................   +50.00
2012-06-10: Kassa ................................................   +38.00
2012-07-01: Kassa ................................................   +50.00
2012-07-28: Kassa ................................................   +80.00
2012-07-30: Kassa ................................................  +100.00
2012-08-05: Kassa ................................................   +60.00
2012-08-28: Kassa ................................................  +165.00
2012-10-14: Kassa ................................................  +212.24
2012-10-28: Kassa ................................................  +112.00
2012-11-18: Kassa ................................................  +153.54
2012-12-12: Kassa ................................................  +120.00
2013-01-20: Kassa ................................................  +275.59
2013-03-15: Kassa ................................................  +120.14
2013-04-15: Digikey ..............................................  -219.65
2013-04-15: Digikey (Zoll) .......................................   -51.33
2013-06-09: Reichelt .............................................  -479.27
2013-06-09: Kassa ................................................  +109.00
2013-07-21: Kassa ................................................   +50.00
2013-08-08: Kassa ................................................   +82.70
2014-04-23: Kassa ................................................  +144.00
2014-11-23: Bestellung (Reichelt, CSD, RS) .......................  -704.47
